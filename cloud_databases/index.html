<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/Infrastructure-Playbook/blog/rss.xml" title="Hackney Infrastructure Playbook Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Infrastructure-Playbook/blog/atom.xml" title="Hackney Infrastructure Playbook Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Hackney Infrastructure Playbook" href="/Infrastructure-Playbook/opensearch.xml"><title data-react-helmet="true">Cloud Database Strategy | Hackney Infrastructure Playbook</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Cloud Database Strategy | Hackney Infrastructure Playbook"><meta data-react-helmet="true" name="description" content="This document outlines the Database strategy for deploying databases in AWS. It is intended for Architects, Developers, Analysts and anyone keen on deploying a DB instance within HackIT AWS accounts."><meta data-react-helmet="true" property="og:description" content="This document outlines the Database strategy for deploying databases in AWS. It is intended for Architects, Developers, Analysts and anyone keen on deploying a DB instance within HackIT AWS accounts."><meta data-react-helmet="true" property="og:url" content="https://lbhackney-it.github.io/Infrastructure-Playbook/Infrastructure-Playbook/cloud_databases"><link data-react-helmet="true" rel="shortcut icon" href="/Infrastructure-Playbook/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://lbhackney-it.github.io/Infrastructure-Playbook/Infrastructure-Playbook/cloud_databases"><link rel="stylesheet" href="/Infrastructure-Playbook/styles.2116970b.css">
<link rel="stylesheet" href="/Infrastructure-Playbook/main.4a16e2e4.css">
<link rel="preload" href="/Infrastructure-Playbook/styles.ce235ca6.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/runtime~main.2ce648d6.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/main.9550d789.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/1.80df3c26.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/2.192714c7.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/40.1fe20374.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/43.417a5e68.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/935f2afb.1ae4fb86.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/17896441.22a50070.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/fa40e205.64592cf9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Infrastructure-Playbook/"><img src="/Infrastructure-Playbook/img/logo-long.svg" alt="Infrastructure Playbook" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Infrastructure-Playbook/img/logo-long.svg" alt="Infrastructure Playbook" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Infrastructure Playbook</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/LBHackney-IT/Infrastructure-Playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Infrastructure-Playbook/"><img src="/Infrastructure-Playbook/img/logo-long.svg" alt="Infrastructure Playbook" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Infrastructure-Playbook/img/logo-long.svg" alt="Infrastructure Playbook" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Infrastructure Playbook</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/LBHackney-IT/Infrastructure-Playbook" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Home</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/the_team">The Hackney Cloud Engineering team</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Info</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/account_provisioning">Account provisioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/aws_cli">AWS CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/permissions_management">AWS Permissions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/backups">Backup module</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/change_process">Change Process</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/ways_of_working">Cloud Engineering Team Ways of Working</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/control_tower">Control Tower</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/github_federation">Github Federation to AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/hub">The Hub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/naming_conventions">Naming Conventions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/services_we_provide">Services we provide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/support_processes">Support processes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/sso_sync">SSO sync job</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Infrastructure-Playbook/supported_and_unsupported">Supported and unsupported services</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">How-To guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/appstream_globalprotect">AppStream and Globalprotect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/certificates">Certificate module</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Infrastructure-Playbook/cloud_databases">Cloud Database Strategy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/creating_accounts">Creating a new AWS account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/terraform_ec2">Creating an EC2 instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/dns">DNS Module</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/s3_download">How to download from an S3 bucket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/migrating_instances">Migrate an EC2 instance to another AWS Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/programmatic_access">AWS Programmatic Access</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/terraform_ec2_monitoring">Monitoring a Windows EC2 instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/overnight_shutdown">Overnight shutdown module</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/patching">Patching module</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/secure_ec2_access">Securely accessing EC2 instances</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/secure_rds_access">Securely accessing RDS instances</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Infrastructure-Playbook/tagging">Tagging module</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/Infrastructure-Playbook/contact_us">Contact the Hackney Cloud Engineering team</a></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Cloud Database Strategy</h1></header><div class="markdown"><p><em>This document outlines the Database strategy for deploying databases in AWS. It is intended for Architects, Developers, Analysts and anyone keen on deploying a DB instance within HackIT AWS accounts.</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="scope"></a>Scope<a class="hash-link" href="#scope" title="Direct link to heading">#</a></h2><p>Hackney Council already has a preferred Cloud database platform in Amazon Relational Database Service (AWS RDS). This makes it easier for technicians with the appropriate skills set to provision a database, operate, and scale when required. With Amazon RDS in mind, this strategy is limited in scope to:</p><ol><li>Newly provisioned RDS Instances </li><li>Databases (Microsoft SQL Server) hosted on EC2 Instances</li></ol><p>This document does not cover on-premises databases.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="key-components"></a>Key Components<a class="hash-link" href="#key-components" title="Direct link to heading">#</a></h2><p>This strategy centres on the concept of a scalable database environment, flexible enough to handle changing needs of the Authority, but with security at the heart of business operations.</p><p>The areas the strategy will cover are:</p><ol><li>AWS RDS Specifics<ul><li>Engine type</li><li>Engine version</li><li>Instance class</li><li>Required storage</li><li>Encryption at rest</li><li>Instance naming convention</li><li>Authentication - AWS Secrets or use of IAM roles</li><li>Database logs</li><li>Backup retention period</li><li>Protecting resources</li><li>Monitoring logs</li><li>DB parameter and options group e.g. vacuum or encoding</li><li>VPC and Subnets</li><li>Default Port setting</li><li>Metrics </li><li>Use of Availability Zones</li></ul></li><li>Security and network configuration</li><li>Documenting each database resource, e.g. tagging for cost savings</li><li>In-house database skills and supporting the cloud databases</li><li>Databases installed on an EC2 instance</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="automating-deployments-of-an-aws-rds-instance"></a>Automating deployments of an AWS RDS instance<a class="hash-link" href="#automating-deployments-of-an-aws-rds-instance" title="Direct link to heading">#</a></h2><p>This section outlines the bare minimum requirements for the deployment of an AWS RDS Instance using Terraform. This section does <strong>not</strong> cover databases hosted on an EC2 instance.</p><table><thead><tr><th>Feature</th><th>Terraform requirement</th><th>Notes</th></tr></thead><tbody><tr><td>Source module</td><td>&quot;terraform-aws-modules/rds/aws&quot;</td><td>Use AWS module</td></tr><tr><td>DBInstanceIdentifier</td><td>identifier</td><td>Key identifier. Combination of <code>application name-db-</code> plus environment tags module; e.g. <code>environment = var.your_environment_variable</code></td></tr><tr><td>Engine</td><td>engine</td><td>E.g. postgres, mysql. PostgreSQL is the preferred engine type</td></tr><tr><td>EngineVersion</td><td>engine_version</td><td>Version of the engine. AWS has PostgreSQL v13 available in GA. Set default to 12 to make use of the replication and index management features of v12 upwards</td></tr><tr><td>Major Engine Version</td><td>major_engine_version</td><td>Recommend 1 version below GA (13)</td></tr><tr><td>DBInstanceClass</td><td>instance_class</td><td>Indicates the database engine version. Bear in mind cost implications; a good starting point is a 2vCPU 4/8GB RAM such as db.t3.medium/large</td></tr><tr><td>Database NAME</td><td>name</td><td>Use identifier name. Can also be stored in AWS Secrets Manager</td></tr><tr><td>MasterUsername</td><td>username</td><td>Stored in AWS Secrets manager</td></tr><tr><td>Database password</td><td>password</td><td>Stored in AWS Secrets manager</td></tr><tr><td>AllocatedStorage</td><td>allocated_storage</td><td>Depends on application needs. Minimum of 5GB. Can be scaled up as required.</td></tr><tr><td>DB Port</td><td>port</td><td>Depends on engine type. Recommend <strong>not</strong> to use the default, e.g. 5432/3306</td></tr><tr><td>multi_az</td><td>multi_az</td><td>Default should be <code>True</code> for PROD but <code>False</code> in lower environments</td></tr><tr><td>Maintenance Window</td><td>maintenance_window</td><td>System maintenance time&#x27; e.g. minor version upgrade if enabled</td></tr><tr><td>Backup Window</td><td>backup_window</td><td>Daily time range during which automated backups are created. If you don&#x27;t specify a preferred backup window when you create the DB instance, Amazon RDS assigns a default 30-minute backup window. Ensure time set here is before the Maintenance Window above</td></tr><tr><td>DB Timezone</td><td>timezone</td><td>Set to <code>UTC</code></td></tr><tr><td>Backup retention period</td><td>backup_retention_period</td><td>Set to 30 days. Depending on business needs, lower environments should be set lower or 0. <strong>Note:</strong> There is no additional charge for backup storage up to 100% of your total database storage for a region</td></tr><tr><td>Tags</td><td>tags</td><td>A must-have; use <a href="https://github.com/LBHackney-IT/infrastructure/tree/master/modules/tags" target="_blank" rel="noopener noreferrer">HackIT defined modules tag</a></td></tr><tr><td>Deletion protection</td><td>deletion_protection</td><td>Databases cannot be deleted. Set to <code>True</code></td></tr><tr><td>Encrypt Storage</td><td>storage_encrypted</td><td>Set to <code>True</code>. Includes the underlying storage for DB instances, its automated backups, read replicas, and snapshots. Also, recommend using General Purpose (SSD) or Provisioned IOPS. Note: db.t2.micro is not supported.</td></tr><tr><td>VPC</td><td>vpc_security_group_ids</td><td>Use Core Security Group Ingress defined</td></tr><tr><td>SubnetGroup</td><td>subnet_ids</td><td>Use Database subnets defined</td></tr><tr><td>Performance Insights</td><td>performance_insights_enabled</td><td>Provides visibility into the health of the DB instances. Set to <code>True</code></td></tr><tr><td>IAM Database Authentication</td><td>iam_database_authentication_enabled</td><td>Off by default. Users don&#x27;t need to use a password when connecting to a DB instance. Instead, they can use an authentication token. Depends on user application/service or user needs. Useful for RDS Proxy.</td></tr><tr><td>Snapshot Identifier</td><td>snapshot_identifier</td><td>Optional and only to be used if creating a database from a snapshot</td></tr><tr><td>final_snapshot_identifier</td><td>final_snapshot_identifier</td><td>The name of your final DB snapshot when this DB instance is deleted. Use <code>DBInstanceIdentifier-snapshot</code>. Must be provided if <code>skip_final_snapshot = false</code></td></tr><tr><td>Skip final snapshot</td><td>skip_final_snapshot</td><td>As above. Set to <code>false</code></td></tr><tr><td>Copy tags to snapshot</td><td>copy_tags_to_snapshot</td><td>Set to <code>True</code>. On delete, copy all Instance tags to the final snapshot (if <code>final_snapshot_identifier</code> is specified). Also useful for AWS Backups.</td></tr><tr><td>Storage AutoScaling</td><td>max_allocated_storage</td><td>Specify a value so the storage scales</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="security"></a>Security<a class="hash-link" href="#security" title="Direct link to heading">#</a></h2><p>It is AWS best practice that provisioned DBs must:</p><ul><li>Reside in a VPC</li><li>Ensure subnets in a DB subnet group are set to <code>private</code></li><li>The use of a DB security group to control what IP addresses or Amazon EC2 instances can connect to the database (inbound rules). Firewall prevents any database access except through rules specified by an associated security group.</li><li>Data at rest - encryption to secure DB instances and snapshots at rest. All provisioned DB via RDS must/should be encrypted. Data that is encrypted at rest includes the underlying storage for DB instances, its automated backups, read replicas, and snapshots. By default, this is set to False</li><li>Encrypting Amazon RDS resources and the use of an AWS KMS customer master key (CMK) to encrypt these resources. </li><li>The use of Secure Socket Layer (SSL) or Transport Layer Security (TLS) from your application to encrypt a connection to any DB instance. SSL/TLS certificates are enabled by default for new DB instances.</li></ul><p>AWS recommends that you protect AWS account credentials and set up individual user accounts with AWS Identity and Access Management (IAM). Use managed identity-based policies or IAM groups to effectively manage permissions for multiple users or use of IAM to control what roles can do with an instance e.g. Grant permission to create a DB instance that uses a specific DB engine or explicitly deny permission to create DB instances for certain DB instance classes.</p><p>As a good practice, it is recommended that you create multiple roles with specific sets of permissions based on application and access requirements. Then assign the appropriate role to each user. The roles should be used to enforce a least privilege model for accessing database objects. The master user that is created during a PostgreSQL instance creation should be used only for database administration tasks like creating other users, roles, and databases. The master user should not be used by the application.</p><p>The use of RDS Proxy to enforce IAM authentication and offload credential management from applications is considered best practice. This ensures database credentials, authentication, and access can be managed through integration with AWS Secrets Manager and AWS Identity and Access Management (IAM).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tagging-aws-rds-resources"></a>Tagging AWS RDS resources<a class="hash-link" href="#tagging-aws-rds-resources" title="Direct link to heading">#</a></h2><p>It is important that during provisioning of an instance, we use the default Terraform tagging module to identify all resources per account, application, environment and department; this enables management and departments to track costs, use labels for automating resource tasks, e.g. stop DBs labelled <code>Dev</code> during out-of-office hours, or auditing during a disaster recovery exercise. Also, resources that are properly tagged will have the right information copied over when a snapshot is taken (<code>CopyTagsToSnapshot</code>), which in turn means all snapshot resources are easily identified in the event of a database restore.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="monitoring"></a>Monitoring<a class="hash-link" href="#monitoring" title="Direct link to heading">#</a></h2><p>An RDS instance can be monitored via the portal, but users without the role of an administrator may not necessarily have PowerUserAccess to view metrics via the portal. If that is the case, <code>enabled_cloudwatch_logs_exports</code> should be enabled during provisioning. By default, this is set to <code>FALSE</code>. This ensures all logs are shipped to Amazon CloudWatch from where fancy metrics can be hooked up to a Dashboard.</p><p>For Administrators, Key metrics that are worth monitoring are:</p><ul><li>Storage usage</li><li>CPU Utilization</li><li>Memory usage</li><li>Failed connections (Login failure)</li><li>Slow running SQL statements</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="databases-installed-on-an-ec2-instance"></a>Databases installed on an EC2 instance<a class="hash-link" href="#databases-installed-on-an-ec2-instance" title="Direct link to heading">#</a></h2><ul><li>Optimize disk layout </li><li>Set the NTFS allocation unit size to 64 KB</li><li>Server updates - install latest patches</li><li>Hostname</li><li>Public access disabled</li><li>Create maintenance plans using Ola Hallengren scripts</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="in-house-database-skills-for-supporting-the-cloud-databases"></a>In-house database skills for supporting the cloud databases<a class="hash-link" href="#in-house-database-skills-for-supporting-the-cloud-databases" title="Direct link to heading">#</a></h2><ul><li>Backups, restore and manual dumps of a table</li><li>Autovacuum - when it last run and how often due to CRUD operations</li><li>Creating roles and disabling users</li><li><code>Pg_stat_activity</code> table</li><li>Performance tuning</li><li>Checking size of Indexes and tables</li><li>Monitoring</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="backups"></a>Backups<a class="hash-link" href="#backups" title="Direct link to heading">#</a></h2><p>By default, we keep backups for 30 days. See <a href="/Infrastructure-Playbook/docs/backups.md">Backups</a> for more details.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/LBHackney-IT/Infrastructure-Playbook/edit/master/docs/cloud_databases.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Infrastructure-Playbook/certificates"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Certificate module</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Infrastructure-Playbook/creating_accounts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Creating a new AWS account Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#scope" class="table-of-contents__link">Scope</a></li><li><a href="#key-components" class="table-of-contents__link">Key Components</a></li><li><a href="#automating-deployments-of-an-aws-rds-instance" class="table-of-contents__link">Automating deployments of an AWS RDS instance</a></li><li><a href="#security" class="table-of-contents__link">Security</a></li><li><a href="#tagging-aws-rds-resources" class="table-of-contents__link">Tagging AWS RDS resources</a></li><li><a href="#monitoring" class="table-of-contents__link">Monitoring</a></li><li><a href="#databases-installed-on-an-ec2-instance" class="table-of-contents__link">Databases installed on an EC2 instance</a></li><li><a href="#in-house-database-skills-for-supporting-the-cloud-databases" class="table-of-contents__link">In-house database skills for supporting the cloud databases</a></li><li><a href="#backups" class="table-of-contents__link">Backups</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Made by HackIT.</div></div></div></footer></div>
<script src="/Infrastructure-Playbook/styles.ce235ca6.js"></script>
<script src="/Infrastructure-Playbook/runtime~main.2ce648d6.js"></script>
<script src="/Infrastructure-Playbook/main.9550d789.js"></script>
<script src="/Infrastructure-Playbook/1.80df3c26.js"></script>
<script src="/Infrastructure-Playbook/2.192714c7.js"></script>
<script src="/Infrastructure-Playbook/40.1fe20374.js"></script>
<script src="/Infrastructure-Playbook/43.417a5e68.js"></script>
<script src="/Infrastructure-Playbook/935f2afb.1ae4fb86.js"></script>
<script src="/Infrastructure-Playbook/17896441.22a50070.js"></script>
<script src="/Infrastructure-Playbook/fa40e205.64592cf9.js"></script>
</body>
</html>