<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/Infrastructure-Playbook/blog/rss.xml" title="Hackney Infrastructure Playbook Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Infrastructure-Playbook/blog/atom.xml" title="Hackney Infrastructure Playbook Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Hackney Infrastructure Playbook" href="/Infrastructure-Playbook/opensearch.xml"><title data-react-helmet="true">Resources | Hackney Infrastructure Playbook</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Resources | Hackney Infrastructure Playbook"><meta data-react-helmet="true" name="description" content="MUST Avoid Actions â€” Think About Resources"><meta data-react-helmet="true" property="og:description" content="MUST Avoid Actions â€” Think About Resources"><meta data-react-helmet="true" property="og:url" content="https://lbhackney-it.github.io/Infrastructure-Playbook/Infrastructure-Playbook/resources"><link data-react-helmet="true" rel="shortcut icon" href="/Infrastructure-Playbook/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://lbhackney-it.github.io/Infrastructure-Playbook/Infrastructure-Playbook/resources"><link rel="stylesheet" href="/Infrastructure-Playbook/styles.2116970b.css">
<link rel="stylesheet" href="/Infrastructure-Playbook/main.4a16e2e4.css">
<link rel="preload" href="/Infrastructure-Playbook/styles.79c14b36.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/runtime~main.05c96792.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/main.cce976fb.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/1.70185c52.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/2.547559b9.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/67.3e59262b.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/70.9338f9b9.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/935f2afb.1ccafd65.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/17896441.decf34b9.js" as="script">
<link rel="preload" href="/Infrastructure-Playbook/d92a3c43.0ce61852.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Infrastructure-Playbook/"><img src="/Infrastructure-Playbook/img/logo-long.svg" alt="Infrastructure Playbook" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Infrastructure-Playbook/img/logo-long.svg" alt="Infrastructure Playbook" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Infrastructure Playbook</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/LBHackney-IT/Infrastructure-Playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Infrastructure-Playbook/"><img src="/Infrastructure-Playbook/img/logo-long.svg" alt="Infrastructure Playbook" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Infrastructure-Playbook/img/logo-long.svg" alt="Infrastructure Playbook" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Infrastructure Playbook</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/LBHackney-IT/Infrastructure-Playbook" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Resources</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-avoid-actions--think-about-resources"></a>MUST Avoid Actions â€” Think About Resources<a class="hash-link" href="#must-avoid-actions--think-about-resources" title="Direct link to heading">#</a></h2><p>REST is all about your resources, so consider the domain entities that take part in web service interaction, and aim to model your API around these using the standard HTTP methods as operation indicators. For instance, if an application has to lock articles explicitly so that only one user may edit them, create an article lock with PUT or POST instead of using a lock action.</p><p>Request:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-http codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PUT /article-locks/{article-id}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The added benefit is that you already have a service for browsing and filtering article locks.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="should-model-complete-business-processes"></a>SHOULD Model complete business processes<a class="hash-link" href="#should-model-complete-business-processes" title="Direct link to heading">#</a></h2><p>An API should contain the complete business processes containing all resources representing the process. This enables clients to understand the business process, foster a consistent design of the business process, allow for synergies from description and implementation perspective, and eliminates implicit invisible dependencies between APIs.</p><p>In addition, it prevents services from being designed as thin wrappers around databases, which normally tends to shift business logic to the clients.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="should-define-useful-resources"></a>SHOULD Define <em>useful</em> resources<a class="hash-link" href="#should-define-useful-resources" title="Direct link to heading">#</a></h2><p>As a rule of thumb resources should be defined to cover 90% of all its clientâ€™s use cases. A <em>useful</em> resource should contain as much information as necessary, but as little as possible. A great way to support the last 10% is to allow clients to specify their needs for more/less information by supporting filtering and embedding.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-keep-urls-verb-free"></a>MUST Keep URLs Verb-Free<a class="hash-link" href="#must-keep-urls-verb-free" title="Direct link to heading">#</a></h2><p>The API describes resources, so the only place where actions should appear is in the HTTP methods. In URLs, use only nouns. Instead of thinking of actions (verbs), itâ€™s often helpful to think about putting a message in a letter box: e.g., instead of having the verb <em>cancel</em> in the url, think of sending a message to cancel an order to the <em>cancellations</em> letter box on the server side.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-use-domain-specific-resource-names"></a>MUST Use Domain-Specific Resource Names<a class="hash-link" href="#must-use-domain-specific-resource-names" title="Direct link to heading">#</a></h2><p>API resources represent elements of the applicationâ€™s domain model. Using domain-specific nomenclature for resource names helps developers to understand the functionality and basic semantics of your resources. It also reduces the need for further documentation outside the API definition. For example, &quot;sales-order-items&quot; is superior to &quot;order-items&quot; in that it clearly indicates which business object it represents. Along these lines, &quot;items&quot; is too general.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-use-url-friendly-resource-identifiers-a-za-z0-9_-"></a>MUST Use URL-friendly Resource Identifiers: [a-zA-Z0-9:._-]*<a class="hash-link" href="#must-use-url-friendly-resource-identifiers-a-za-z0-9_-" title="Direct link to heading">#</a></h2><p>To simplify encoding of resource IDs in URLs, their representation must only consist of ASCII strings of letters, numbers, underscore, minus, colon, and period.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-identify-resources-and-sub-resources-via-path-segments"></a>MUST Identify resources and Sub-Resources via Path Segments<a class="hash-link" href="#must-identify-resources-and-sub-resources-via-path-segments" title="Direct link to heading">#</a></h2><p>Some API resources may contain or reference sub-resources. Embedded sub-resources, which are not top-level resources, are parts of a higher-level resource and cannot be used outside of its scope. Sub-resources should be referenced by their name and identifier in the path segments.</p><p>Composite identifiers must not contain <code>/</code> as a separator. In order to improve the consumer experience, you should aim for intuitively understandable URLs, where each sub-path is a valid reference to a resource or a set of resources. For example, if <code>/customers/12ev123bv12v/addresses/DE_100100101</code> is a valid path of your API, then <code>/customers/12ev123bv12v/addresses</code>, <code> customers/12ev123bv12v</code> and <code>/customers</code> must be valid as well in principle.</p><p>Basic URL structure:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-http codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/{resources}/[resource-id]/{sub-resources}/[sub-resource-id]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/{resources}/[partial-id-1][separator][partial-id-2]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Examples:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-http codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/carts/1681e6b88ec1/items</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/carts/1681e6b88ec1/items/1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/customers/12ev123bv12v/addresses/DE_100100101</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/content/images/9cacb4d8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="should-consider-use-of-nested-urls"></a>SHOULD Consider Use of Nested URLs<a class="hash-link" href="#should-consider-use-of-nested-urls" title="Direct link to heading">#</a></h2><p>If a sub-resource is only accessible via its parent resource and may not exists without parent resource, consider using a nested URL structure, for instance:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-http codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/carts/1681e6b88ec1/cart-items/1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>However, if the resource can be accessed directly via its unique id, then the API should expose it as a top-level resource. For example, customer has a collection for sales orders; however, sales orders have globally unique id and some services may choose to access the orders directly, for instance:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-http codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/customers/1681e6b88ec1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/sales-orders/5273gh3k525a</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="should-limit-number-of-resource-types"></a>SHOULD Limit number of Resource types<a class="hash-link" href="#should-limit-number-of-resource-types" title="Direct link to heading">#</a></h2><p>To keep maintenance and service evolution manageable, we should follow &quot;functional segmentation&quot; and &quot;separation of concern&quot; design principles and do not mix different business functionalities in same API definition. In practice this means that the number of resource types exposed via an API should be limited. In this context a resource type is defined as a set of highly related resources such as a collection, its members and any direct sub-resources.</p><p>For example, the resources below would be counted as three resource types, one for customers, one for the addresses, and one for the customers&#x27; related addresses:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-http codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/customers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/customers/{id}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/customers/{id}/preferences</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/customers/{id}/addresses</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/customers/{id}/addresses/{addr}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/addresses</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/addresses/{addr}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Note that:</p><ul><li><p>We consider <code>/customers/{id}/preferences</code> part of the <code>/customers</code> resource type because it has a one-to-one relation to the customer without an additional identifier.</p></li><li><p>We consider <code>/customers</code> and <code>/customers/{id}/addresses</code> as separate resource types because <code>/customers/{id}/addresses/{addr}</code> also exists with an additional identifier for the address.</p></li><li><p>We consider <code>/addresses</code> and <code>/customers/{id}/addresses</code> as separate resource types because thereâ€™s no reliable way to be sure they are the same.</p></li></ul><p>Given this definition, our experience is that well defined APIs involve no more than 4 to 8 resource types. There may be exceptions with more complex business domains that require more resources, but you should first check if you can split them into separate subdomains with distinct APIs.</p><p>Nevertheless one API should hold all necessary resources to model complete business processes helping clients to understand these flows.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="should-limit-number-of-sub-resource-levels"></a>SHOULD Limit number of Sub-Resource Levels<a class="hash-link" href="#should-limit-number-of-sub-resource-levels" title="Direct link to heading">#</a></h2><p>There are main resources (with root url paths) and sub-resources (or &quot;nested&quot; resources with non-root urls paths). Use sub-resources if their life cycle is (loosely) coupled to the main resource, i.e. the main resource works as collection resource of the subresource entities. You should use &lt;= 3 sub-resource (nesting) levelsâ€‰â€”â€‰more levels increase API complexity and url path length. (Remember, some popular web browsers do not support URLs of more than 2000 characters)</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/LBHackney-IT/Infrastructure-Playbook/edit/master/docs/resources.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#must-avoid-actions--think-about-resources" class="table-of-contents__link">MUST Avoid Actions â€” Think About Resources</a></li><li><a href="#should-model-complete-business-processes" class="table-of-contents__link">SHOULD Model complete business processes</a></li><li><a href="#should-define-useful-resources" class="table-of-contents__link">SHOULD Define <em>useful</em> resources</a></li><li><a href="#must-keep-urls-verb-free" class="table-of-contents__link">MUST Keep URLs Verb-Free</a></li><li><a href="#must-use-domain-specific-resource-names" class="table-of-contents__link">MUST Use Domain-Specific Resource Names</a></li><li><a href="#must-use-url-friendly-resource-identifiers-a-za-z0-9_-" class="table-of-contents__link">MUST Use URL-friendly Resource Identifiers: [a-zA-Z0-9:._-]*</a></li><li><a href="#must-identify-resources-and-sub-resources-via-path-segments" class="table-of-contents__link">MUST Identify resources and Sub-Resources via Path Segments</a></li><li><a href="#should-consider-use-of-nested-urls" class="table-of-contents__link">SHOULD Consider Use of Nested URLs</a></li><li><a href="#should-limit-number-of-resource-types" class="table-of-contents__link">SHOULD Limit number of Resource types</a></li><li><a href="#should-limit-number-of-sub-resource-levels" class="table-of-contents__link">SHOULD Limit number of Sub-Resource Levels</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Made by HackIT.</div></div></div></footer></div>
<script src="/Infrastructure-Playbook/styles.79c14b36.js"></script>
<script src="/Infrastructure-Playbook/runtime~main.05c96792.js"></script>
<script src="/Infrastructure-Playbook/main.cce976fb.js"></script>
<script src="/Infrastructure-Playbook/1.70185c52.js"></script>
<script src="/Infrastructure-Playbook/2.547559b9.js"></script>
<script src="/Infrastructure-Playbook/67.3e59262b.js"></script>
<script src="/Infrastructure-Playbook/70.9338f9b9.js"></script>
<script src="/Infrastructure-Playbook/935f2afb.1ccafd65.js"></script>
<script src="/Infrastructure-Playbook/17896441.decf34b9.js"></script>
<script src="/Infrastructure-Playbook/d92a3c43.0ce61852.js"></script>
</body>
</html>