(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{125:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return s})),a.d(t,"default",(function(){return p}));var r=a(3),n=a(7),i=(a(0),a(135)),o={id:"platform_api_vs_service_api",title:"Platform API vs Service API"},c={unversionedId:"platform_api_vs_service_api",id:"platform_api_vs_service_api",isDocsHomePage:!1,title:"Platform API vs Service API",description:"Platform API vs Service API comparison",source:"@site/docs/platorm_api_vs_service_api.md",slug:"/platform_api_vs_service_api",permalink:"/Infrastructure-Playbook/platform_api_vs_service_api",editUrl:"https://github.com/LBHackney-IT/Infrastructure-Playbook/edit/master/docs/platorm_api_vs_service_api.md",version:"current",sidebar:"docs",previous:{title:"API Standards",permalink:"/Infrastructure-Playbook/api_standards"},next:{title:"API Documentation",permalink:"/Infrastructure-Playbook/documentation"}},s=[{value:"A. Service APIs",id:"a-service-apis",children:[{value:"Criteria",id:"criteria",children:[]}]},{value:"B. Platform APIs",id:"b-platform-apis",children:[{value:"Criteria",id:"criteria-1",children:[]}]},{value:"Decision Flowchart",id:"decision-flowchart",children:[]}],l={toc:s};function p(e){var t=e.components,o=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},l,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("img",{alt:"Platform API vs Service API comparison",src:a(222).default})),Object(i.b)("h2",{id:"a-service-apis"},"A. Service APIs"),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Service APIs are used for specific data representation.")),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Service APIs have additional data processing to satisfy a specific service need.")),Object(i.b)("h3",{id:"criteria"},"Criteria"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Consumes 1 or more platform APIs and customise the JSON to their needs.")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Platform APIs is to provide all available data for a given domain (i.e. transactions) in a generic format. "),Object(i.b)("li",{parentName:"ul"},"Service APIs should consume the platform API and modify the response object to meet their specific needs (if required)."))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Holds business logic and does processing work on data to meet the specific needs of a service.")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Service APIs are to consume platform APIs to retrieve data from different domains. The service APIs can then process and modify the data in any way required to satisfy the given service requirement."))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Requires data to be returned in a custom format, different from the one exposed by platform APIs."))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Exposes data specific to the service")," "),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"e.g. Interactions data for Manage a tenancy - data not read or produced by any other service."))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"We should only connect to a data source directly if reading or writing data that is not part of our data domain.")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"This could be data generated by the service only used to satisfy service-specific requirements - for example, tenancy management interactions are data records specific to Manage a tenancy service.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"If it is believed that data identified or generated by service should be exposed via a Platform API, please refer to the flowchart at the end of the document to verify."))))),Object(i.b)("h2",{id:"b-platform-apis"},"B. Platform APIs"),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Are data-driven, domain modeled APIs that expose generic data for re-use for several services of similar datasets. It is a holistic representation of a domain specified.")),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"It is the foundation layer for the ",Object(i.b)("u",null," API ecosystem ")," allowing higher-level APIs access to the data sources below.")),Object(i.b)("p",null,"All platform APIs will be listed in our ",Object(i.b)("a",{parentName:"p",href:"https://developer.api.hackney.gov.uk/"},"API Hub"),"."),Object(i.b)("h3",{id:"criteria-1"},"Criteria"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Used primarily for data persistence")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"These APIs are responsible for reading and writing data to and from a given database."),Object(i.b)("li",{parentName:"ul"},"It performs all CRUD (create, read, update and delete) operations, abstracting this away from consuming services."))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"It contains the knowledge of the data domain and understands how to interact with the underlying data source.")," "),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"If the data source changes, it should be the only place where this change needs to be updated.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"This does not prevent a service API from connecting to a database to write its own service-specific data.  However, if it is interacting with the data domain this must be done via a Platform API.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("u",null," Example scenario: ")," Transactions API maps the domain model to the data structure of the current underlying data source - Universal Housing. In the future, if this data source is to be changed, Transactions API should be the only place where a \u2018re-mapping\u2019 to the new data source change is required. All services consuming the Transactions API would not be affected by the change."))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Designed to be consumed by multiple services.")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"The data produced by Platform APIs should be generic enough to be useful for more than one service hence being reusable and consistent."))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Publishes its endpoint information for general consumption.")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"The endpoint structure and usage descriptions should be publicly available via API Hub and in a clear, readable JSON format."))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Returns all data available for a given domain in a generic format (no custom naming convention is allowed)")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"All fields for a given domain should be retrieved and returned as part of the response object of a platform API - no field should be selected based on the services needed.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"As part of developing an API endpoint, Data & Insight team are to provide an agreed data domain model with universal naming for the fields returned as part of the response object. The platform API should map the data source response to the agreed naming for the data domain. The purpose of this requirement is to provide response objects that would be agnostic to the underlying data source field naming conventions.  ")))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"It does not do any (complex) processing of data - it\u2019s only purpose is to expose all available data from a given domain, without changing it.")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Any platform API should not do any logical processing of data to satisfy a requirement - it should only go to the underlying data source, retrieve or update the data, map it to the domain model defined and return the response object.")))),Object(i.b)("h2",{id:"decision-flowchart"},"Decision Flowchart"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"}," To determine if you require a Service API or a Platform API ")),Object(i.b)("p",null,Object(i.b)("img",{alt:"Decision flowchart",src:a(223).default})),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://miro.com/app/board/o9J_lFTB0GI=/"},Object(i.b)("strong",{parentName:"a"},"View the Miro board for higher resolution"))))}p.isMDXComponent=!0},135:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return u}));var r=a(0),n=a.n(r);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=n.a.createContext({}),p=function(e){var t=n.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},b=function(e){var t=p(e.components);return n.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},m=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),b=p(a),m=r,u=b["".concat(o,".").concat(m)]||b[m]||d[m]||i;return a?n.a.createElement(u,c(c({ref:t},l),{},{components:a})):n.a.createElement(u,c({ref:t},l))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<i;l++)o[l]=a[l];return n.a.createElement.apply(null,o)}return n.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},222:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/platformapi-afc4f43a55c65e3b13b02dc8bcc0b809.png"},223:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/decision_flowchart-0e81d736d8da038c45c1d8f4086d1cc0.png"}}]);